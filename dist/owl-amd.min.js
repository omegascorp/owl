define("owl",["require","exports","module"],function(t,e,n){var o={require:function(){console.info("Please use require instead of owl.require")},define:function(){console.info("Please use define instead of owl.define")}};return function(t,e){var n,o,r={baseUrl:"/"},i=null,s={},u={},a={},c=!1,l=null;e.history={init:function(t){n=e.util.extend(r,t,!0)},getOption:function(t){return n[t]},start:function(){var e=this;this.open(this.getLocation()),o=t.addEventListener("popstate",function(){e.open(e.getLocation())},!1),c=!0},isStarted:function(){return c},stop:function(){t.removeEventListener("popstate",o)},navigate:function(e){t.history.pushState(null,null,n.baseUrl+e),this.open(e)},replace:function(e){t.history.replaceState(null,null,n.baseUrl+e),this.open(e)},getLocation:function(){return t.location.pathname.replace(n.baseUrl,"").replace(/\/$/,"")},getHash:function(){return t.location.hash.substr(1)},setHash:function(e){t.location.hash=e},open:function(t){var e;return l&&(l(),l=null),Object.keys(s).some(function(n){return(t===n||0===t.indexOf(n)&&t.length>n.length&&"/"===t[n.length])&&(e=s[n],t=t.replace(n,""),!0)}),e||(e=i),e?(this.trigger("change"),e.open(t).then(function(t){l=t})):void console.log("Default router is not defined")},setRouter:function(t,e){s[t]=e},removeRouter:function(t){delete s[t]},getRouter:function(t){return s[t]},setDefaultRouter:function(t){i=t},getDefaultRouter:function(){return i},setResolve:function(t,e){u[t]=e},removeResolve:function(t){delete u[t]},getResolve:function(t){return u[t]},on:function(t,e){a[t]||(a[t]=[]),a[t].push(e)},off:function(t,e){if(a[t]){var n=-1;a[t].forEach(function(t,o){t===e&&(n=o)}),a[t].splice(n,1)}},trigger:function(t){a[t]&&a[t].forEach(function(t){t()})}}}(window,o),function(t,e){e.util={clone:function(t,e){var n,o=this;return null===t||"object"!=typeof t?t:t instanceof Date?(n=new Date,n.setTime(t.getTime()),n):t instanceof Array?(n=[],t.forEach(function(t,e){n[e]=o.clone(t)}),n):(n={},Object.keys(t).forEach(function(r){n[r]=e?o.clone(t[r],e):t[r]}),n)},extend:function(t,e,n){var o=this,r=this.clone(t,!0);return Object.keys(e).forEach(function(t){"object"==typeof r[t]&&null!==r[t]&&n?r[t]=o.extend(r[t],e[t],n):r[t]=e[t]}),r}}}(window,o),function(t,e){function n(){this.events={}}n.prototype={on:function(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)},off:function(t,e){t?e?this.events[t]&&(this.events[t]=this.events[t].filter(function(t){return t!==e})):delete this.events[t]:this.events=[]},emit:function(t,e){var n=this;setTimeout(function(){var o=n.events[t];o&&o.forEach(function(t){t(e)})},0)},triggerSingle:function(t){this.emit(t)},trigger:function(t,e){var n=this;this.triggerSingle(t),e&&e instanceof Array?e.forEach(function(e){n.triggerSingle(t+":"+e)}):e&&this.triggerSingle(t+":"+e)}},e.EventEmitter=n}(window,o),function(t,e){function n(t,e,n){var o=this;this.routes=[],this.defaultRoute=e||{callback:function(){console.log("Default route is not defined")}},this.controller=n||null,t instanceof Array&&t.forEach(function(t){o.addRoute(t)})}n.prototype={open:function(t){var n=this.getRoute(t),o=this;return n?this.resolve(n).then(function(e){return o.run(t,n,e)})["catch"](function(e){return console.error("Error in Router.open",e.message,e.stack),o.run(t,o.defaultRoute,e)}):e.Promise.resolve(null)},resolve:function(t){var n=t.resolves||[];return e.Promise.all(n.map(function(t){const n=e.history.getResolve(t);return n?e.Promise.resolve(n()):(console.info("Resolve"+t+"is not found"),e.Promise.resolve(null))}))},run:function(t,e,n){var o,r,i,s,u={};if(e.regexp&&(o=t.match(e.regexp)))for(s=1;s<o.length;s++)u[e.params[s-1]]=o[s];if(e.controller||this.controller&&!e.callback){if(r=new(e.controller||this.controller)(u),i=e.action||"init",i&&r[i]&&r[i](u,n),r.destroy)return r.destroy.bind(r)}else e.callback?e.callback(u,n):console.error("Either controller and callback are missing");return null},addRoute:function(t){var e=/:[a-zA-Z0-9]*/g,n=t.path.replace(e,"([^/]*)"),o=t.path.match(e),r={};o&&(t.regexp=new RegExp("^"+n+"$"),r=o.map(function(t){return t.substring(1)})),t.params=r,this.routes.push(t)},getRoute:function(t){var e;return this.routes.some(function(n){var o=n.regexp?n.regexp.test(t):n.path===t;return!!o&&(e=n,!0)}),e?e:this.defaultRoute},setDefaultRoute:function(t){this.defaultRoute=t},getDefaultRoute:function(){return this.defaultRoute},setController:function(t){this.controller=t},getController:function(){return this.controller}},e.Router=n}(window,o),function(t,e){function n(t,n){e.EventEmitter.apply(this,[t,n]),this.data=t||{},this.url=n&&n.url||"",this.idAttribute=n&&n.idAttribute||this.parseIdAttribute(this.url)||"id",this.defaults=n&&n.defaults||{},this.collection=n&&n.collection||null,this.collectionIndex=n&&"number"==typeof n.collectionIndex?n.collectionIndex:null,this.urlRoot=n&&n.urlRoot||"",n.urlRoot&&console.log("urlRoot in Model is deprecated, use url instead.")}n.prototype=Object.create(e.EventEmitter.prototype),n.prototype.parseIdAttribute=function(t){var e=t.match(/:([a-zA-z0-9_]+)/);return e instanceof Array&&e.length>1?e[1]:null},n.prototype.get=function(t){return this.data[t]||this.defaults[t]},n.prototype.set=function(t,e){this.data[t]=e,this.updateCollection(),this.trigger("change",t)},n.prototype.getEndpointUrl=function(){var t=this.data[this.idAttribute];return this.url?t?this.url.replace(":"+this.idAttribute,t):this.url.replace("/:"+this.idAttribute,""):t?this.urlRoot+"/"+t:this.urlRoot},n.prototype.fetch=function(t){var n=this,o=this.getEndpointUrl();return o+=e.ajax.toQueryString(t),e.ajax.request({url:o,type:"GET"}).then(function(t){return n.data=t,n.updateCollection(),n.trigger("change",Object.keys(n.data)),t})},n.prototype.clear=function(){this.data={},this.updateCollection()},n.prototype.save=function(t){var n=this,o=this.getEndpointUrl(),r=this.data[this.idAttribute];return r&&(o+="/"+this.data[this.idAttribute]),e.ajax.request({url:o+e.ajax.toQueryString(t),type:r?"PUT":"POST",data:this.data}).then(function(t){return t[n.idAttribute]&&(n.data[n.idAttribute]=t[n.idAttribute]),n.updateCollection(),n.trigger("change",[n.idAttribute]),t})},n.prototype.update=function(t,n){var o=this,r=this.data[this.idAttribute];return r?(this.data=e.util.extend(this.data,t,!0),this.save(n).then(function(e){return o.updateCollection(),o.trigger("change",Object.keys(t)),e})):new Promise(function(t,e){e(new Error("Can not update model without id"))})},n.prototype.patch=function(t,n,o){var r=this,i=this.getEndpointUrl();return"string"==typeof o&&(i+=o),"object"==typeof n&&null!==n&&(i+=e.ajax.toQueryString(n)),this.data=e.util.extend(this.data,t,!0),e.ajax.request({url:i,type:"PATCH",data:t}).then(function(e){return r.updateCollection(),r.trigger("change",Object.keys(t)),e})},n.prototype.updateCollection=function(){this.collection&&this.collection.update(this.collectionIndex)},n.prototype.destroy=function(t){var n=this,o=this.data[this.idAttribute];return o?e.ajax.request({url:this.getEndpointUrl()+e.ajax.toQueryString(t),type:"DELETE"}).then(function(t){return n.clear(),t}):new Promise(function(t,e){e(new Error("Can not destroy model without id"))})},n.prototype.getData=function(){return this.data},n.prototype.setData=function(t){this.data=t,this.updateCollection(),this.trigger("change")},n.prototype.getCollection=function(){return this.collection},n.prototype.getCollectionIndex=function(){return this.collectionIndex},n.prototype.emit=function(t,n){return this.collection&&this.collection.emit(t,n),e.EventEmitter.prototype.emit.apply(this,[t,n])},e.Model=n}(window,o),function(t,e){function n(t,n){e.EventEmitter.apply(this,[t,n]),this.url=n.url,this.model=n.model,this.data=[],this.models=[],this.setData(t)}n.prototype=Object.create(e.EventEmitter.prototype),n.prototype.fetch=function(t){var n=this;return e.ajax.request({url:this.url+e.ajax.toQueryString(t),type:"GET"}).then(function(t){return n.setData(t),t})},n.prototype.clear=function(){this.data=[],this.models=[],this.length=0,this.trigger("change")},n.prototype.setData=function(t){var e=this;t instanceof Array?(this.data=t,this.length=t.length,this.models=t.map(function(t,n){return new e.model(t,{collection:e,collectionIndex:n})})):(this.models=[],this.length=0),e.trigger("change")},n.prototype.getData=function(){return this.data},n.prototype.getModels=function(){return this.models},n.prototype.getLength=function(){return this.length},n.prototype.get=function(t){return this.models[t]},n.prototype.update=function(t){"number"==typeof t?this.data[t]=this.models[t].getData():this.data=this.models.map(function(t){return t.getData()})},e.Collection=n}(window,o),function(t,e){function n(){}n.prototype.init=function(){},n.prototype.destroy=function(){},e.Controller=n}(window,o),function(t){var e={};t.ajax={request:function(n){var o=this;return new t.Promise(function(r,i){var s=new XMLHttpRequest,u=n.type||"GET",a=n.url,c=n.data,l=n.files,h=null;"GET"===u||"DELETE"===u?a+=o.toQueryString(c):"object"==typeof l?(h=new FormData,Object.keys(c).forEach(function(t){h.append(t,c[t])}),Object.keys(l).forEach(function(t){h.append(t,l[t])})):h=o.toJsonString(c),s.onreadystatechange=function(){var e,o;4===s.readyState&&(s.status>=200&&s.status<300?(e=JSON.parse(s.responseText),n.success&&n.success(e),r(e)):(t.ajax.error(s),n.error&&n.error(s,s.statusText),o=new t.AjaxError(s),i(o)))},s.open(u,a,!0),"object"!=typeof l&&s.setRequestHeader("Content-Type","application/json; charset=utf-8"),Object.keys(e).forEach(function(t){s.setRequestHeader(t,e[t])}),s.send(h)})},setHeader:function(t,n){e[t]=n},removeHeader:function(t){delete e[t]},error:function(t){console.log(t)},toQueryString:function(t){var e,n=[];if("object"!=typeof t)return t||"";for(e in t)t.hasOwnProperty(e)&&n.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return"?"+n.join("&")},toJsonString:function(t){return"object"!=typeof t?t||"":JSON.stringify(t)}}}(o),function(t){t.Promise=Promise}(o),function(t,e){function n(t){this.message="Respond with "+t.status,this.status=t.status,this.text=t.responseText;try{this.data=JSON.parse(t.responseText)}catch(e){this.data={}}this.responseText=this.text,this.json=this.data}n.prototype=new Error,n.prototype.getMessage=function(){return this.message},n.prototype.getStatus=function(){return this.status},n.prototype.getText=function(){return this.text},n.prototype.getData=function(){return this.data},e.AjaxError=n}(window,o),o});