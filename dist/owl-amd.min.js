define("owl",["require","exports","module"],function(t,e,n){var i={require:function(){console.info("Please use require instead of owl.require")},define:function(){console.info("Please use define instead of owl.define")}};return function(t,e){var n,i,o={baseUrl:"/"},r=null,s={},u={},a={},l=!1,c=null;e.history={init:function(t){n=e.util.extend(o,t,!0)},getOption:function(t){return n[t]},start:function(){var e=this;this.open(this.getLocation()),i=t.addEventListener("popstate",function(){e.open(e.getLocation())},!1),l=!0},isStarted:function(){return l},stop:function(){t.removeEventListener("popstate",i)},navigate:function(e){t.history.pushState(null,null,n.baseUrl+e),this.open(e)},replace:function(e){t.history.replaceState(null,null,n.baseUrl+e),this.open(e)},getLocation:function(){return t.location.pathname.replace(n.baseUrl,"").replace(/\/$/,"")},getHash:function(){return t.location.hash.substr(1)},setHash:function(e){t.location.hash=e},open:function(t){var e;return c&&(c(),c=null),Object.keys(s).some(function(n){return(t===n||0===t.indexOf(n)&&t.length>n.length&&"/"===t[n.length])&&(e=s[n],t=t.replace(n,""),!0)}),e||(e=r),e?(this.trigger("change"),e.open(t).then(function(t){c=t})):void console.log("Default router is not defined")},setRouter:function(t,e){s[t]=e},removeRouter:function(t){delete s[t]},getRouter:function(t){return s[t]},setDefaultRouter:function(t){r=t},getDefaultRouter:function(){return r},setResolve:function(t,e){u[t]=e},removeResolve:function(t){delete u[t]},getResolve:function(t){return u[t]},on:function(t,e){a[t]||(a[t]=[]),a[t].push(e)},off:function(t,e){if(a[t]){var n=-1;a[t].forEach(function(t,i){t===e&&(n=i)}),a[t].splice(n,1)}},trigger:function(t){a[t]&&a[t].forEach(function(t){t()})}}}(window,i),function(t,e){e.util={clone:function(t,e){var n,i=this;return null===t||"object"!=typeof t?t:t instanceof Date?(n=new Date,n.setTime(t.getTime()),n):t instanceof Array?(n=[],t.forEach(function(t,e){n[e]=i.clone(t)}),n):(n={},Object.keys(t).forEach(function(o){n[o]=e?i.clone(t[o],e):t[o]}),n)},extend:function(t,e,n){var i=this,o=this.clone(t,!0);return Object.keys(e).forEach(function(t){"object"==typeof o[t]&&null!==o[t]&&n?o[t]=i.extend(o[t],e[t],n):o[t]=e[t]}),o}}}(window,i),function(t,e){function n(t,e,n){var i=this;this.routes=[],this.defaultRoute=e||{callback:function(){console.log("Default route is not defined")}},this.controller=n||null,t instanceof Array&&t.forEach(function(t){i.addRoute(t)})}n.prototype={open:function(t){var n=this.getRoute(t),i=this;return n?this.resolve(n).then(function(e){return i.run(t,n,e)})["catch"](function(e){return console.error("Error in Router.open",e.message,e.stack),i.run(t,i.defaultRoute,e)}):e.Promise.resolve(null)},resolve:function(t){var n=t.resolves||[];return e.Promise.all(n.map(function(t){const n=e.history.getResolve(t);return n?e.Promise.resolve(n()):(console.info("Resolve"+t+"is not found"),e.Promise.resolve(null))}))},run:function(t,e,n){var i,o,r,s,u={};if(e.regexp&&(i=t.match(e.regexp)))for(s=1;s<i.length;s++)u[e.params[s-1]]=i[s];if(e.controller||this.controller&&!e.callback){if(o=new(e.controller||this.controller)(u),r=e.action||"init",r&&o[r]&&o[r](u,n),o.destroy)return o.destroy.bind(o)}else e.callback?e.callback(u,n):console.error("Either controller and callback are missing");return null},addRoute:function(t){var e=/:[a-zA-Z0-9]*/g,n=t.path.replace(e,"([^/]*)"),i=t.path.match(e),o={};i&&(t.regexp=new RegExp("^"+n+"$"),o=i.map(function(t){return t.substring(1)})),t.params=o,this.routes.push(t)},getRoute:function(t){var e;return this.routes.some(function(n){var i=n.regexp?n.regexp.test(t):n.path===t;return!!i&&(e=n,!0)}),e?e:this.defaultRoute},setDefaultRoute:function(t){this.defaultRoute=t},getDefaultRoute:function(){return this.defaultRoute},setController:function(t){this.controller=t},getController:function(){return this.controller}},e.Router=n}(window,i),function(t,e){function n(e){var n=this;e=e||{},this.el=e.el||t.document.createElement("div"),this.elements={},this.className=e.className||"",this.events=e.events||{},this.template=e.template||null,this.model=e.model,this.collection=e.collection,this.controller=e.controller,this.specialEvents=["submit","focus","blur"],this.className&&(this.el.className=this.className),Object.keys(this.events).forEach(function(t){var e=t.indexOf(" "),i=t.substr(0,e),o=t.substr(e+1),r=n.events[t],s="$"===o[0];s&&(o=o.substr(1)),n.specialEvents.indexOf(i)===-1&&n.el.addEventListener(i,function(t){var e=s?n.getMatchingElement(t.target,"[data-element="+o+"]")||n.getMatchingElement(t.target,"[data-elements="+o+"]"):n.getMatchingElement(t.target,o);t.target&&e&&n.callEventListener(r,e,t)})})}n.prototype={getMatchingElement:function(t,e){for(;t&&t!==this.el;){if(t.matches(e))return t;t=t.parentNode}return null},update:function(t){t||(t=this.el),this.updateEvents(t),this.updateElements(t)},updateEvents:function(t){var e=this;Object.keys(this.events).forEach(function(n){var i=n.indexOf(" "),o=n.substr(0,i),r=n.substr(i+1),s=e.events[n],u="$"===r[0];e.specialEvents.indexOf(o)!==-1&&(u&&(r=r.substr(1),r="[data-element="+r+"],[data-elements="+r+"]"),Array.prototype.forEach.call(t.querySelectorAll(r),function(t){t.addEventListener(o,function(n){e.callEventListener(s,t,n)})}))})},updateElements:function(t){var e=this;Array.prototype.forEach.call(t.querySelectorAll("[data-element]"),function(t){var n=t.getAttribute("data-element");e.elements[n]=t}),Array.prototype.forEach.call(t.querySelectorAll("[data-elements]"),function(t){var n=t.getAttribute("data-elements");e.elements[n]||(e.elements[n]=[]),e.elements[n].push(t)})},callEventListener:function(t,e,n){this[t]?this[t](e,n):console.error("Method "+t+" is not defined"+(this.className?"in "+this.className:""))},render:function(t){this.el.innerHTML=this.template?this.template(t):"",this.update()},remove:function(){this.el.innerHTML="",this.elements={}},find:function(t){return this.el.querySelector(t)},findAll:function(t){return this.el.querySelectorAll(t)},getEl:function(){return this.el}},e.View=n}(window,i),function(t,e){function n(t,e){this.data=t||{},this.url=e&&e.url||"",this.idAttribute=e&&e.idAttribute||this.parseIdAttribute(this.url)||"id",this.defaults=e&&e.defaults||{},this.collection=e&&e.collection||null,this.collectionIndex=e&&"number"==typeof e.collectionIndex?e.collectionIndex:null,this.events={},this.urlRoot=e&&e.urlRoot||"",e.urlRoot&&console.log("urlRoot in Model is deprecated, use url instead.")}n.prototype={parseIdAttribute:function(t){var e=t.match(/:([a-zA-z0-9_]+)/);return e instanceof Array&&e.length>1?e[1]:null},get:function(t){return this.data[t]||this.defaults[t]},set:function(t,e){this.data[t]=e,this.updateCollection(),this.trigger("change",t)},getEndpointUrl:function(){var t=this.data[this.idAttribute];return this.url?t?this.url.replace(":"+this.idAttribute,t):this.url.replace("/:"+this.idAttribute,""):t?this.urlRoot+"/"+t:this.urlRoot},fetch:function(t){var n=this,i=this.getEndpointUrl();return i+=e.ajax.toQueryString(t),e.ajax.request({url:i,type:"GET"}).then(function(t){return n.data=t,n.updateCollection(),n.trigger("change",Object.keys(n.data)),t})},clear:function(){this.data={},this.updateCollection()},save:function(t){var n=this,i=this.getEndpointUrl(),o=this.data[this.idAttribute];return o&&(i+="/"+this.data[this.idAttribute]),e.ajax.request({url:i+e.ajax.toQueryString(t),type:o?"PUT":"POST",data:this.data}).then(function(t){return t[n.idAttribute]&&(n.data[n.idAttribute]=t[n.idAttribute]),n.updateCollection(),n.trigger("change",[n.idAttribute]),t})},update:function(t,n){var i=this,o=this.data[this.idAttribute];return o?(this.data=e.util.extend(this.data,t,!0),this.save(n).then(function(e){return i.updateCollection(),i.trigger("change",Object.keys(t)),e})):new Promise(function(t,e){e(new Error("Can not update model without id"))})},patch:function(t,n,i){var o=this,r=this.getEndpointUrl();return"string"==typeof i&&(r+=i),"object"==typeof n&&null!==n&&(r+=e.ajax.toQueryString(n)),this.data=e.util.extend(this.data,t,!0),e.ajax.request({url:r,type:"PATCH",data:t}).then(function(e){return o.updateCollection(),o.trigger("change",Object.keys(t)),e})},updateCollection:function(){this.collection&&this.collection.update(this.collectionIndex)},destroy:function(t){var n=this,i=this.data[this.idAttribute];return i?e.ajax.request({url:this.getEndpointUrl()+e.ajax.toQueryString(t),type:"DELETE"}).then(function(t){return n.clear(),t}):new Promise(function(t,e){e(new Error("Can not destroy model without id"))})},getData:function(){return this.data},setData:function(t){this.data=t,this.updateCollection(),this.trigger("change")},getCollection:function(){return this.collection},getCollectionIndex:function(){return this.collectionIndex},on:function(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)},off:function(t,e){t?e?this.events[t]&&(this.events[t]=this.events[t].filter(function(t){return t!==e})):delete this.events[t]:this.events=[]},triggerSingle:function(t){var e=this.events[t];this.collection&&this.collection.trigger(t),e&&e.forEach(function(t){t()})},trigger:function(t,e){var n=this;this.triggerSingle(t),e&&e instanceof Array?e.forEach(function(e){n.triggerSingle(t+":"+e)}):e&&this.triggerSingle(t+":"+e)}},e.Model=n}(window,i),function(t,e){function n(t,e){this.url=e.url,this.model=e.model,this.data=[],this.models=[],this.events={},this.setData(t)}n.prototype={fetch:function(t){var n=this;return e.ajax.request({url:this.url+e.ajax.toQueryString(t),type:"GET"}).then(function(t){return n.setData(t),t})},clear:function(){this.data=[],this.models=[],this.length=0,this.trigger("change")},setData:function(t){var e=this;t instanceof Array?(this.data=t,this.length=t.length,this.models=t.map(function(t,n){return new e.model(t,{collection:e,collectionIndex:n})})):(this.models=[],this.length=0),e.trigger("change")},getData:function(){return this.data},getModels:function(){return this.models},getLength:function(){return this.length},get:function(t){return this.models[t]},update:function(t){"number"==typeof t?this.data[t]=this.models[t].getData():this.data=this.models.map(function(t){return t.getData()})},on:function(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)},off:function(t,e){t?e?this.events[t]&&(this.events[t]=this.events[t].filter(function(t){return t!==e})):delete this.events[t]:this.events=[]},trigger:function(t){var e=this.events[t];e&&e.forEach(function(t){t()})}},e.Collection=n}(window,i),function(t,e){function n(){}n.prototype.init=function(){},n.prototype.destroy=function(){},e.Controller=n}(window,i),function(t){var e={"Content-Type":"application/json; charset=utf-8"};t.ajax={request:function(n){var i=this;return new t.Promise(function(o,r){var s,u=new XMLHttpRequest,a=n.type||"GET",l=n.url,c=n.data,h=null;"GET"===a||"DELETE"===a?l+=i.toQueryString(c):h=i.toJsonString(c),u.onreadystatechange=function(){var e,i;4===u.readyState&&(u.status>=200&&u.status<300?(e=JSON.parse(u.responseText),n.success&&n.success(e),o(e)):(t.ajax.error(u),n.error&&n.error(u,u.statusText),i=new Error("Respond with "+u.status),i.status=u.status,i.responseText=u.responseText,i.json=JSON.parse(u.responseText),r(i)))},u.open(a,l,!0);for(s in e)e.hasOwnProperty(s)&&u.setRequestHeader(s,e[s]);u.send(h)})},setHeader:function(t,n){e[t]=n},removeHeader:function(t){delete e[t]},error:function(t){console.log(t)},toQueryString:function(t){var e,n=[];if("object"!=typeof t)return t||"";for(e in t)t.hasOwnProperty(e)&&n.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return"?"+n.join("&")},toJsonString:function(t){return"object"!=typeof t?t||"":JSON.stringify(t)}}}(i),function(t){t.Promise=Promise}(i),i});